(function(e){if(typeof exports=='object'&&typeof module=='object')e(require('../../lib/codemirror'));else if(typeof define=='function'&&define.amd)define(['../../lib/codemirror'],e);else e(CodeMirror)})(function(e){'use strict';e.defineMode('javascript',function(t,i){var M=t.indentUnit,ce=i.statementIndent,P=i.jsonld,b=i.json||P,d=i.typescript,ne=i.wordCharacters||/[\w$\xa1-\uffff]/,de=function(){function e(e){return{type:e,style:'keyword'}};var l=e('keyword a'),i=e('keyword b'),r=e('keyword c'),a=e('keyword d'),f=e('operator'),t={type:'atom',style:'atom'};var s={'if':e('if'),'while':l,'with':l,'else':i,'do':i,'try':i,'finally':i,'return':a,'break':a,'continue':a,'new':e('new'),'delete':r,'void':r,'throw':r,'debugger':e('debugger'),'var':e('var'),'const':e('var'),'let':e('var'),'function':e('function'),'catch':e('catch'),'for':e('for'),'switch':e('switch'),'case':e('case'),'default':e('default'),'in':f,'typeof':f,'instanceof':f,'true':t,'false':t,'null':t,'undefined':t,'NaN':t,'Infinity':t,'this':e('this'),'class':e('class'),'super':e('atom'),'yield':r,'export':e('export'),'import':e('import'),'extends':r,'await':r};if(d){var n={type:'variable',style:'type'};var o={'interface':e('class'),'implements':r,'namespace':r,'public':e('modifier'),'private':e('modifier'),'protected':e('modifier'),'abstract':e('modifier'),'readonly':e('modifier'),'string':n,'number':n,'boolean':n,'any':n};for(var u in o){s[u]=o[u]}};return s}(),pe=/[+\-*&%=<>!?|~^@]/,ze=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Te(e){var n=!1,r,t=!1;while((r=e.next())!=null){if(!n){if(r=='/'&&!t)return;if(r=='[')t=!0;else if(t&&r==']')t=!1};n=!n&&r=='\\'}};var A,q;function l(e,r,t){A=e;q=t;return r};function w(e,r){var t=e.next();if(t=='"'||t=='\''){r.tokenize=Ce(t);return r.tokenize(e,r)}
else if(t=='.'&&e.match(/^\d+(?:[eE][+\-]?\d+)?/)){return l('number','number')}
else if(t=='.'&&e.match('..')){return l('spread','meta')}
else if(/[\[\]{}\(\),;\:\.]/.test(t)){return l(t)}
else if(t=='='&&e.eat('>')){return l('=>','operator')}
else if(t=='0'&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return l('number','number')}
else if(t=='0'&&e.eat(/o/i)){e.eatWhile(/[0-7]/i);return l('number','number')}
else if(t=='0'&&e.eat(/b/i)){e.eatWhile(/[01]/i);return l('number','number')}
else if(/\d/.test(t)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return l('number','number')}
else if(t=='/'){if(e.eat('*')){r.tokenize=S;return S(e,r)}
else if(e.eat('/')){e.skipToEnd();return l('comment','comment')}
else if(Ve(e,r,1)){Te(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return l('regexp','string-2')}
else{e.eat('=');return l('operator','operator',e.current())}}
else if(t=='`'){r.tokenize=ie;return ie(e,r)}
else if(t=='#'){e.skipToEnd();return l('error','error')}
else if(pe.test(t)){if(t!='>'||!r.lexical||r.lexical.type!='>'){if(e.eat('=')){if(t=='!'||t=='=')e.eat('=')}
else if(/[<>*+\-]/.test(t)){e.eat(t);if(t=='>')e.eat(t)}};return l('operator','operator',e.current())}
else if(ne.test(t)){e.eatWhile(ne);var n=e.current();if(r.lastType!='.'){if(de.propertyIsEnumerable(n)){var i=de[n];return l(i.type,i.style,n)};if(n=='async'&&e.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return l('async','keyword',n)};return l('variable','variable',n)}};function Ce(e){return function(r,t){var n=!1,i;if(P&&r.peek()=='@'&&r.match(ze)){t.tokenize=w;return l('jsonld-keyword','meta')}
while((i=r.next())!=null){if(i==e&&!n)break;n=!n&&i=='\\'};if(!n)t.tokenize=w;return l('string','string')}};function S(e,r){var n=!1,t;while(t=e.next()){if(t=='/'&&n){r.tokenize=w;break};n=(t=='*')};return l('comment','comment')};function ie(e,r){var n=!1,t;while((t=e.next())!=null){if(!n&&(t=='`'||t=='$'&&e.eat('{'))){r.tokenize=w;break};n=!n&&t=='\\'};return l('quasi','string-2',e.current())};var Ie='([{}])';function ae(e,r){if(r.fatArrowAt)r.fatArrowAt=null;var u=e.string.indexOf('=>',e.start);if(u<0)return;if(d){var o=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,u));if(o)u=o.index};var n=0,f=!1;for(var t=u-1;t>=0;--t){var i=e.string.charAt(t),a=Ie.indexOf(i);if(a>=0&&a<3){if(!n){++t;break};if(--n==0){if(i=='(')f=!0;break}}
else if(a>=3&&a<6){++n}
else if(ne.test(i)){f=!0}
else if(/["'\/]/.test(i)){return}
else if(f&&!n){++t;break}};if(f&&!n)r.fatArrowAt=t};var Ee={'atom':!0,'number':!0,'variable':!0,'string':!0,'regexp':!0,'this':!0,'jsonld-keyword':!0};function me(e,r,t,n,i,a){this.indented=e;this.column=r;this.type=t;this.prev=i;this.info=a;if(n!=null)this.align=n};function Oe(e,r){for(var t=e.localVars;t;t=t.next)if(t.name==r)return!0;for(var n=e.context;n;n=n.prev){for(var t=n.vars;t;t=t.next)if(t.name==r)return!0}};function qe(e,r,t,a,f){var i=e.cc;n.state=e;n.stream=f;n.marked=null,n.cc=i;n.style=r;if(!e.lexical.hasOwnProperty('align'))e.lexical.align=!0;while(!0){var u=i.length?i.pop():b?s:p;if(u(t,a)){while(i.length&&i[i.length-1].lex)i.pop()();if(n.marked)return n.marked;if(t=='variable'&&Oe(e,a))return'variable-2';return r}}};var n={state:null,column:null,marked:null,cc:null};function o(){for(var e=arguments.length-1;e>=0;e--)n.cc.push(arguments[e])};function r(){o.apply(null,arguments);return!0};function E(e){function t(r){for(var t=r;t;t=t.next)if(t.name==e)return!0;return!1};var r=n.state;n.marked='def';if(r.context){if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}
else{if(t(r.globalVars))return;if(i.globalVars)r.globalVars={name:e,next:r.globalVars}}};var Ae={name:'this',next:{name:'arguments'}};function I(){n.state.context={prev:n.state.context,vars:n.state.localVars};n.state.localVars=Ae};function z(){n.state.localVars=n.state.context.vars;n.state.context=n.state.context.prev};function f(e,r){var t=function(){var i=n.state,a=i.indented;if(i.lexical.type=='stat')a=i.lexical.indented;else for(var t=i.lexical;t&&t.type==')'&&t.align;t=t.prev)a=t.indented;i.lexical=new me(a,n.stream.column(),e,null,i.lexical,r)};t.lex=!0;return t};function a(){var e=n.state;if(e.lexical.prev){if(e.lexical.type==')')e.indented=e.lexical.indented;e.lexical=e.lexical.prev}};a.lex=!0;function u(e){function t(n){if(n==e)return r();else if(e==';')return o();else return r(t)};return t};function p(e,t){if(e=='var')return r(f('vardef',t.length),oe,u(';'),a);if(e=='keyword a')return r(f('form'),fe,p,a);if(e=='keyword b')return r(f('form'),p,a);if(e=='keyword d')return n.stream.match(/^\s*$/,!1)?r():r(f('stat'),ue,u(';'),a);if(e=='debugger')return r(u(';'));if(e=='{')return r(f('}'),U,a);if(e==';')return r();if(e=='if'){if(n.state.lexical.info=='else'&&n.state.cc[n.state.cc.length-1]==a)n.state.cc.pop()();return r(f('form'),fe,p,a,he)};if(e=='function')return r(y);if(e=='for')return r(f('form'),ur,p,a);if(e=='variable'){if(d&&t=='type'){n.marked='keyword';return r(c,u('operator'),c,u(';'))}
else if(d&&t=='declare'){n.marked='keyword';return r(p)}
else if(d&&(t=='module'||t=='enum')&&n.stream.match(/^\s*\w/,!1)){n.marked='keyword';return r(f('form'),k,u('{'),f('}'),U,a,a)}
else{return r(f('stat'),Ue)}};if(e=='switch')return r(f('form'),fe,u('{'),f('}','switch'),U,a,a);if(e=='case')return r(s,u(':'));if(e=='default')return r(u(':'));if(e=='catch')return r(f('form'),I,u('('),O,u(')'),p,a,z);if(e=='class')return r(f('form'),ge,a);if(e=='export')return r(f('stat'),cr,a);if(e=='import')return r(f('stat'),dr,a);if(e=='async')return r(p);if(t=='@')return r(s,p);return o(f('stat'),s,u(';'),a)};function s(e){return ve(e,!1)};function m(e){return ve(e,!0)};function fe(e){if(e!='(')return o();return r(f(')'),s,u(')'),a)};function ve(e,t){if(n.state.fatArrowAt==n.stream.start){var l=t?ke:ye;if(e=='(')return r(I,f(')'),v(O,')'),a,u('=>'),l,z);else if(e=='variable')return o(I,k,u('=>'),l,z)};var i=t?V:h;if(Ee.hasOwnProperty(e))return r(i);if(e=='function')return r(y,i);if(e=='class')return r(f('form'),lr,a);if(e=='keyword c'||e=='async')return r(t?m:s);if(e=='(')return r(f(')'),ue,u(')'),a,i);if(e=='operator'||e=='spread')return r(t?m:s);if(e=='[')return r(f(']'),mr,a,i);if(e=='{')return T(N,'}',null,i);if(e=='quasi')return o(W,i);if(e=='new')return r(Se(t));return r()};function ue(e){if(e.match(/[;\}\)\],]/))return o();return o(s)};function h(e,t){if(e==',')return r(s);return V(e,t,!1)};function V(e,t,i){var l=i==!1?h:V,p=i==!1?s:m;if(e=='=>')return r(I,i?ke:ye,z);if(e=='operator'){if(/\+\+|--/.test(t)||d&&t=='!')return r(l);if(d&&t=='<'&&n.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1))return r(f('>'),v(c,'>'),a,l);if(t=='?')return r(s,u(':'),p);return r(p)};if(e=='quasi'){return o(W,l)};if(e==';')return;if(e=='(')return T(m,')','call',l);if(e=='.')return r(Be,l);if(e=='[')return r(f(']'),ue,u(']'),a,l);if(d&&t=='as'){n.marked='keyword';return r(c,l)};if(e=='regexp'){n.state.lastType=n.marked='operator';n.stream.backUp(n.stream.pos-n.stream.start-1);return r(p)}};function W(e,t){if(e!='quasi')return o();if(t.slice(t.length-2)!='${')return r(W);return r(s,Pe)};function Pe(e){if(e=='}'){n.marked='string-2';n.state.tokenize=ie;return r(W)}};function ye(e){ae(n.stream,n.state);return o(e=='{'?p:s)};function ke(e){ae(n.stream,n.state);return o(e=='{'?p:m)};function Se(e){return function(t){if(t=='.')return r(e?Ne:We);else if(t=='variable'&&d)return r(nr,e?V:h);else return o(e?m:s)}};function We(e,t){if(t=='target'){n.marked='keyword';return r(h)}};function Ne(e,t){if(t=='target'){n.marked='keyword';return r(V)}};function Ue(e){if(e==':')return r(a,p);return o(h,u(';'),a)};function Be(e){if(e=='variable'){n.marked='property';return r()}};function N(e,t){if(e=='async'){n.marked='property';return r(N)}
else if(e=='variable'||n.style=='keyword'){n.marked='property';if(t=='get'||t=='set')return r(He);var i;if(d&&n.state.fatArrowAt==n.stream.start&&(i=n.stream.match(/^\s*:\s*/,!1)))n.state.fatArrowAt=n.stream.pos+i[0].length;return r(x)}
else if(e=='number'||e=='string'){n.marked=P?'property':(n.style+' property');return r(x)}
else if(e=='jsonld-keyword'){return r(x)}
else if(e=='modifier'){return r(N)}
else if(e=='['){return r(s,u(']'),x)}
else if(e=='spread'){return r(m,x)}
else if(t=='*'){n.marked='keyword';return r(N)}
else if(e==':'){return o(x)}};function He(e){if(e!='variable')return o(x);n.marked='property';return r(y)};function x(e){if(e==':')return r(m);if(e=='(')return o(y)};function v(e,t,i){function a(f,s){if(i?i.indexOf(f)>-1:f==','){var l=n.state.lexical;if(l.info=='call')l.pos=(l.pos||0)+1;return r(function(r,n){if(r==t||n==t)return o();return o(e)},a)};if(f==t||s==t)return r();return r(u(t))};return function(n,i){if(n==t||i==t)return r();return o(e,a)}};function T(e,t,i){for(var u=3;u<arguments.length;u++)n.cc.push(arguments[u]);return r(f(t,i),v(e,t),a)};function U(e){if(e=='}')return r();return o(p,U)};function B(e,t){if(d){if(e==':')return r(c);if(t=='?')return r(B)}};function er(e){if(d&&e==':'){if(n.stream.match(/^\s*\w+\s+is\b/,!1))return r(s,rr,c);else return r(c)}};function rr(e,t){if(t=='is'){n.marked='keyword';return r()}};function c(e,t){if(e=='variable'||t=='void'){if(t=='keyof'){n.marked='keyword';return r(c)}
else{n.marked='type';return r(g)}};if(e=='string'||e=='number'||e=='atom')return r(g);if(e=='[')return r(f(']'),v(c,']',','),a,g);if(e=='{')return r(f('}'),v(H,'}',',;'),a,g);if(e=='(')return r(v(be,')'),tr)};function tr(e){if(e=='=>')return r(c)};function H(e,t){if(e=='variable'||n.style=='keyword'){n.marked='property';return r(H)}
else if(t=='?'){return r(H)}
else if(e==':'){return r(c)}
else if(e=='['){return r(s,B,u(']'),H)}};function be(e){if(e=='variable')return r(be);else if(e==':')return r(c)};function g(e,t){if(t=='<')return r(f('>'),v(c,'>'),a,g);if(t=='|'||e=='.')return r(c);if(e=='[')return r(u(']'),g);if(t=='extends')return r(c)};function nr(e,t){if(t=='<')return r(f('>'),v(c,'>'),a,g)};function we(){return o(c,ir)};function ir(e,t){if(t=='=')return r(c)};function oe(){return o(k,B,C,fr)};function k(e,t){if(e=='modifier')return r(k);if(e=='variable'){E(t);return r()};if(e=='spread')return r(k);if(e=='[')return T(k,']');if(e=='{')return T(ar,'}')};function ar(e,t){if(e=='variable'&&!n.stream.match(/^\s*:/,!1)){E(t);return r(C)};if(e=='variable')n.marked='property';if(e=='spread')return r(k);if(e=='}')return o();return r(u(':'),k,C)};function C(e,t){if(t=='=')return r(m)};function fr(e){if(e==',')return r(oe)};function he(e,t){if(e=='keyword b'&&t=='else')return r(f('form','else'),p,a)};function ur(e){if(e=='(')return r(f(')'),or,u(')'),a)};function or(e){if(e=='var')return r(oe,u(';'),ee);if(e==';')return r(ee);if(e=='variable')return r(sr);return o(s,u(';'),ee)};function sr(e,t){if(t=='in'||t=='of'){n.marked='keyword';return r(s)};return r(h,ee)};function ee(e,t){if(e==';')return r(xe);if(t=='in'||t=='of'){n.marked='keyword';return r(s)};return o(s,u(';'),xe)};function xe(e){if(e!=')')r(s)};function y(e,t){if(t=='*'){n.marked='keyword';return r(y)};if(e=='variable'){E(t);return r(y)};if(e=='(')return r(I,f(')'),v(O,')'),a,er,p,z);if(d&&t=='<')return r(f('>'),v(we,'>'),a,y)};function O(e,t){if(t=='@')r(s,O);if(e=='spread'||e=='modifier')return r(O);return o(k,B,C)};function lr(e,r){if(e=='variable')return ge(e,r);return re(e,r)};function ge(e,t){if(e=='variable'){E(t);return r(re)}};function re(e,t){if(t=='<')return r(f('>'),v(we,'>'),a,re);if(t=='extends'||t=='implements'||(d&&e==','))return r(d?c:s,re);if(e=='{')return r(f('}'),j,a)};function j(e,t){if(e=='modifier'||e=='async'||(e=='variable'&&(t=='static'||t=='get'||t=='set')&&n.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))){n.marked='keyword';return r(j)};if(e=='variable'||n.style=='keyword'){n.marked='property';return r(d?se:y,j)};if(e=='[')return r(s,u(']'),d?se:y,j);if(t=='*'){n.marked='keyword';return r(j)};if(e==';')return r(j);if(e=='}')return r();if(t=='@')return r(s,j)};function se(e,t){if(t=='?')return r(se);if(e==':')return r(c,C);if(t=='=')return r(m);return o(y)};function cr(e,t){if(t=='*'){n.marked='keyword';return r(le,u(';'))};if(t=='default'){n.marked='keyword';return r(s,u(';'))};if(e=='{')return r(v(je,'}'),le,u(';'));return o(p)};function je(e,t){if(t=='as'){n.marked='keyword';return r(u('variable'))};if(e=='variable')return o(m,je)};function dr(e){if(e=='string')return r();return o(te,Me,le)};function te(e,t){if(e=='{')return T(te,'}');if(e=='variable')E(t);if(t=='*')n.marked='keyword';return r(pr)};function Me(e){if(e==',')return r(te,Me)};function pr(e,t){if(t=='as'){n.marked='keyword';return r(te)}};function le(e,t){if(t=='from'){n.marked='keyword';return r(s)}};function mr(e){if(e==']')return r();return o(v(m,']'))};function vr(e,r){return e.lastType=='operator'||e.lastType==','||pe.test(r.charAt(0))||/[,.]/.test(r.charAt(0))};function Ve(e,r,t){return r.tokenize==w&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(r.lastType)||(r.lastType=='quasi'&&/\{\s*$/.test(e.string.slice(0,e.pos-(t||0))))};return{startState:function(e){var r={tokenize:w,lastType:'sof',cc:[],lexical:new me((e||0)-M,0,'block',!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:e||0};if(i.globalVars&&typeof i.globalVars=='object')r.globalVars=i.globalVars;return r},token:function(e,r){if(e.sol()){if(!r.lexical.hasOwnProperty('align'))r.lexical.align=!1;r.indented=e.indentation();ae(e,r)};if(r.tokenize!=S&&e.eatSpace())return null;var t=r.tokenize(e,r);if(A=='comment')return t;r.lastType=A=='operator'&&(q=='++'||q=='--')?'incdec':A;return qe(r,t,A,q,e)},indent:function(r,t){if(r.tokenize==S)return e.Pass;if(r.tokenize!=w)return 0;var s=t&&t.charAt(0),n=r.lexical,l;if(!/^\s*else\b/.test(t))for(var o=r.cc.length-1;o>=0;--o){var c=r.cc[o];if(c==a)n=n.prev;else if(c!=he)break}
while((n.type=='stat'||n.type=='form')&&(s=='}'||((l=r.cc[r.cc.length-1])&&(l==h||l==V)&&!/^[,\.=+\-*:?[\(]/.test(t))))n=n.prev;if(ce&&n.type==')'&&n.prev.type=='stat')n=n.prev;var f=n.type,u=s==f;if(f=='vardef')return n.indented+(r.lastType=='operator'||r.lastType==','?n.info+1:0);else if(f=='form'&&s=='{')return n.indented;else if(f=='form')return n.indented+M;else if(f=='stat')return n.indented+(vr(r,t)?ce||M:0);else if(n.info=='switch'&&!u&&i.doubleIndentSwitch!=!1)return n.indented+(/^(?:case|default)\b/.test(t)?M:2*M);else if(n.align)return n.column+(u?0:1);else return n.indented+(u?0:M)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:'/*',blockCommentEnd:b?null:'*/',blockCommentContinue:b?null:' * ',lineComment:b?null:'//',fold:'brace',closeBrackets:'()[]{}\'\'""``',helperType:b?'json':'javascript',jsonldMode:P,jsonMode:b,expressionAllowed:Ve,skipExpression:function(e){var r=e.cc[e.cc.length-1];if(r==s||r==m)e.cc.pop()}}});e.registerHelper('wordChars','javascript',/[\w$]/);e.defineMIME('text/javascript','javascript');e.defineMIME('text/ecmascript','javascript');e.defineMIME('application/javascript','javascript');e.defineMIME('application/x-javascript','javascript');e.defineMIME('application/ecmascript','javascript');e.defineMIME('application/json',{name:'javascript',json:!0});e.defineMIME('application/x-json',{name:'javascript',json:!0});e.defineMIME('application/ld+json',{name:'javascript',jsonld:!0});e.defineMIME('text/typescript',{name:'javascript',typescript:!0});e.defineMIME('application/typescript',{name:'javascript',typescript:!0})});