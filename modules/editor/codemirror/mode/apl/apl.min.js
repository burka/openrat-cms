(function(e){if(typeof exports=='object'&&typeof module=='object')e(require('../../lib/codemirror'));else if(typeof define=='function'&&define.amd)define(['../../lib/codemirror'],e);else e(CodeMirror)})(function(e){'use strict';e.defineMode('apl',function(){var a={'.':'innerProduct','\\':'scan','/':'reduce','⌿':'reduce1Axis','⍀':'scan1Axis','¨':'each','⍣':'power'};var e={'+':['conjugate','add'],'−':['negate','subtract'],'×':['signOf','multiply'],'÷':['reciprocal','divide'],'⌈':['ceiling','greaterOf'],'⌊':['floor','lesserOf'],'∣':['absolute','residue'],'⍳':['indexGenerate','indexOf'],'?':['roll','deal'],'⋆':['exponentiate','toThePowerOf'],'⍟':['naturalLog','logToTheBase'],'○':['piTimes','circularFuncs'],'!':['factorial','binomial'],'⌹':['matrixInverse','matrixDivide'],'<':[null,'lessThan'],'≤':[null,'lessThanOrEqual'],'=':[null,'equals'],'>':[null,'greaterThan'],'≥':[null,'greaterThanOrEqual'],'≠':[null,'notEqual'],'≡':['depth','match'],'≢':[null,'notMatch'],'∈':['enlist','membership'],'⍷':[null,'find'],'∪':['unique','union'],'∩':[null,'intersection'],'∼':['not','without'],'∨':[null,'or'],'∧':[null,'and'],'⍱':[null,'nor'],'⍲':[null,'nand'],'⍴':['shapeOf','reshape'],',':['ravel','catenate'],'⍪':[null,'firstAxisCatenate'],'⌽':['reverse','rotate'],'⊖':['axis1Reverse','axis1Rotate'],'⍉':['transpose',null],'↑':['first','take'],'↓':[null,'drop'],'⊂':['enclose','partitionWithAxis'],'⊃':['diclose','pick'],'⌷':[null,'index'],'⍋':['gradeUp',null],'⍒':['gradeDown',null],'⊤':['encode',null],'⊥':['decode',null],'⍕':['format','formatByExample'],'⍎':['execute',null],'⊣':['stop','left'],'⊢':['pass','right']};var n=/[\.\/⌿⍀¨⍣]/,t=/⍬/,r=/[\+−×÷⌈⌊∣⍳\?⋆⍟○!⌹<≤=>≥≠≡≢∈⍷∪∩∼∨∧⍱⍲⍴,⍪⌽⊖⍉↑↓⊂⊃⌷⍋⍒⊤⊥⍕⍎⊣⊢]/,l=/←/,i=/[⍝#].*$/,u=function(e){var n;n=!1;return function(t){n=t;if(t===e){return n==='\\'};return!0}};return{startState:function(){return{prev:!1,func:!1,op:!1,string:!1,escape:!1}},token:function(s,f){var o,c;if(s.eatSpace()){return null};o=s.next();if(o==='"'||o==='\''){s.eatWhile(u(o));s.next();f.prev=!0;return'string'};if(/[\[{\(]/.test(o)){f.prev=!1;return null};if(/[\]}\)]/.test(o)){f.prev=!0;return null};if(t.test(o)){f.prev=!1;return'niladic'};if(/[¯\d]/.test(o)){if(f.func){f.func=!1;f.prev=!1}
else{f.prev=!0};s.eatWhile(/[\w\.]/);return'number'};if(n.test(o)){return'operator apl-'+a[o]};if(l.test(o)){return'apl-arrow'};if(r.test(o)){c='apl-';if(e[o]!=null){if(f.prev){c+=e[o][1]}
else{c+=e[o][0]}};f.func=!0;f.prev=!1;return'function '+c};if(i.test(o)){s.skipToEnd();return'comment'};if(o==='∘'&&s.peek()==='.'){s.next();return'function jot-dot'};s.eatWhile(/[\w\$_]/);f.prev=!0;return'keyword'}}});e.defineMIME('text/apl','apl')});