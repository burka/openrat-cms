(function(e){if(typeof exports=='object'&&typeof module=='object')e(require('../../lib/codemirror'),require('../css/css'));else if(typeof define=='function'&&define.amd)define(['../../lib/codemirror','../css/css'],e);else e(CodeMirror)})(function(e){'use strict';e.defineMode('sass',function(r){var f=e.mimeModes['text/css'],u=f.propertyKeywords||{},x=f.colorKeywords||{},y=f.valueKeywords||{},v=f.fontProperties||{};function z(e){return new RegExp('^'+e.join('|'))};var d=['true','false','null','auto'],a=new RegExp('^'+d.join('|')),k=['\\(','\\)','=','>','<','==','>=','<=','\\+','-','\\!=','/','\\*','%','and','or','not',';','\\{','\\}',':'],c=z(k),w=/^::?[a-zA-Z_][\w\-]*/,n;function t(e){return!e.peek()||e.match(/\s+$/,!1)};function l(e,r){var t=e.peek();if(t===')'){e.next();r.tokenizer=o;return'operator'}
else if(t==='('){e.next();e.eatSpace();return'operator'}
else if(t==='\''||t==='"'){r.tokenizer=s(e.next());return'string'}
else{r.tokenizer=s(')',!1);return'string'}};function p(e,r){return function(t,n){if(t.sol()&&t.indentation()<=e){n.tokenizer=o;return o(t,n)};if(r&&t.skipTo('*/')){t.next();t.next();n.tokenizer=o}
else{t.skipToEnd()};return'comment'}};function s(e,r){if(r==null){r=!0};function n(i,f){var u=i.next(),s=i.peek(),a=i.string.charAt(i.pos-2),c=((u!=='\\'&&s===e)||(u===e&&a!=='\\'));if(c){if(u!==e&&r){i.next()};if(t(i)){f.cursorHalf=0};f.tokenizer=o;return'string'}
else if(u==='#'&&s==='{'){f.tokenizer=h(n);i.next();return'operator'}
else{return'string'}};return n};function h(e){return function(r,t){if(r.peek()==='}'){r.next();t.tokenizer=e;return'operator'}
else{return o(r,t)}}};function i(e){if(e.indentCount==0){e.indentCount++;var t=e.scopes[0].offset,n=t+r.indentUnit;e.scopes.unshift({offset:n})}};function m(e){if(e.scopes.length==1)return;e.scopes.shift()};function o(e,r){var f=e.peek();if(e.match('/*')){r.tokenizer=p(e.indentation(),!0);return r.tokenizer(e,r)};if(e.match('//')){r.tokenizer=p(e.indentation(),!1);return r.tokenizer(e,r)};if(e.match('#{')){r.tokenizer=h(o);return'operator'};if(f==='"'||f==='\''){e.next();r.tokenizer=s(f);return'string'};if(!r.cursorHalf){if(f==='-'){if(e.match(/^-\w+-/)){return'meta'}};if(f==='.'){e.next();if(e.match(/^[\w-]+/)){i(r);return'qualifier'}
else if(e.peek()==='#'){i(r);return'tag'}};if(f==='#'){e.next();if(e.match(/^[\w-]+/)){i(r);return'builtin'};if(e.peek()==='#'){i(r);return'tag'}};if(f==='$'){e.next();e.eatWhile(/[\w-]/);return'variable-2'};if(e.match(/^-?[0-9\.]+/))return'number';if(e.match(/^(px|em|in)\b/))return'unit';if(e.match(a))return'keyword';if(e.match(/^url/)&&e.peek()==='('){r.tokenizer=l;return'atom'};if(f==='='){if(e.match(/^=[\w-]+/)){i(r);return'meta'}};if(f==='+'){if(e.match(/^\+[\w-]+/)){return'variable-3'}};if(f==='@'){if(e.match(/@extend/)){if(!e.match(/\s*[\w]/))m(r)}};if(e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){i(r);return'def'};if(f==='@'){e.next();e.eatWhile(/[\w-]/);return'def'};if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){n=e.current().toLowerCase();var d=r.prevProp+'-'+n;if(u.hasOwnProperty(d)){return'property'}
else if(u.hasOwnProperty(n)){r.prevProp=n;return'property'}
else if(v.hasOwnProperty(n)){return'property'};return'tag'}
else if(e.match(/ *:/,!1)){i(r);r.cursorHalf=1;r.prevProp=e.current().toLowerCase();return'property'}
else if(e.match(/ *,/,!1)){return'tag'}
else{i(r);return'tag'}};if(f===':'){if(e.match(w)){return'variable-3'};e.next();r.cursorHalf=1;return'operator'}}
else{if(f==='#'){e.next();if(e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){if(t(e)){r.cursorHalf=0};return'number'}};if(e.match(/^-?[0-9\.]+/)){if(t(e)){r.cursorHalf=0};return'number'};if(e.match(/^(px|em|in)\b/)){if(t(e)){r.cursorHalf=0};return'unit'};if(e.match(a)){if(t(e)){r.cursorHalf=0};return'keyword'};if(e.match(/^url/)&&e.peek()==='('){r.tokenizer=l;if(t(e)){r.cursorHalf=0};return'atom'};if(f==='$'){e.next();e.eatWhile(/[\w-]/);if(t(e)){r.cursorHalf=0};return'variable-2'};if(f==='!'){e.next();r.cursorHalf=0;return e.match(/^[\w]+/)?'keyword':'operator'};if(e.match(c)){if(t(e)){r.cursorHalf=0};return'operator'};if(e.eatWhile(/[\w-]/)){if(t(e)){r.cursorHalf=0};n=e.current().toLowerCase();if(y.hasOwnProperty(n)){return'atom'}
else if(x.hasOwnProperty(n)){return'keyword'}
else if(u.hasOwnProperty(n)){r.prevProp=e.current().toLowerCase();return'property'}
else{return'tag'}};if(t(e)){r.cursorHalf=0;return null}};if(e.match(c))return'operator';e.next();return null};function g(e,t){if(e.sol())t.indentCount=0;var u=t.tokenizer(e,t),i=e.current();if(i==='@return'||i==='}'){m(t)};if(u!==null){var s=e.pos-i.length,a=s+(r.indentUnit*t.indentCount),f=[];for(var n=0;n<t.scopes.length;n++){var o=t.scopes[n];if(o.offset<=a)f.push(o)};t.scopes=f};return u};return{startState:function(){return{tokenizer:o,scopes:[{offset:0,type:'sass'}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,r){var t=g(e,r);r.lastToken={style:t,content:e.current()};return t},indent:function(e){return e.scopes[0].offset}}},'css');e.defineMIME('text/x-sass','sass')});