(function(e){if(typeof exports=='object'&&typeof module=='object')e(require('../../lib/codemirror'));else if(typeof define=='function'&&define.amd)define(['../../lib/codemirror'],e);else e(CodeMirror)})(function(e){'use strict';e.defineMode('mathematica',function(e,t){var n='[a-zA-Z\\$][a-zA-Z0-9\\$]*',o='(?:\\d+)',a='(?:\\.\\d+|\\d+\\.\\d*|\\d+)',m='(?:\\.\\w+|\\w+\\.\\w*|\\w+)',i='(?:`(?:`?'+a+')?)',c=new RegExp('(?:'+o+'(?:\\^\\^'+m+i+'?(?:\\*\\^[+-]?\\d+)?))'),f=new RegExp('(?:'+a+i+'?(?:\\*\\^[+-]?\\d+)?)'),u=new RegExp('(?:`?)(?:'+n+')(?:`(?:'+n+'))*(?:`?)');function r(e,t){var r;r=e.next();if(r==='"'){t.tokenize=z;return t.tokenize(e,t)};if(r==='('){if(e.eat('*')){t.commentLevel++;t.tokenize=l;return t.tokenize(e,t)}};e.backUp(1);if(e.match(c,!0,!1)){return'number'};if(e.match(f,!0,!1)){return'number'};if(e.match(/(?:In|Out)\[[0-9]*\]/,!0,!1)){return'atom'};if(e.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::usage)/,!0,!1)){return'meta'};if(e.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::[a-zA-Z\$][a-zA-Z0-9\$]*):?/,!0,!1)){return'string-2'};if(e.match(/([a-zA-Z\$][a-zA-Z0-9\$]*\s*:)(?:(?:[a-zA-Z\$][a-zA-Z0-9\$]*)|(?:[^:=>~@\^\&\*\)\[\]'\?,\|])).*/,!0,!1)){return'variable-2'};if(e.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+[a-zA-Z\$][a-zA-Z0-9\$]*/,!0,!1)){return'variable-2'};if(e.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+/,!0,!1)){return'variable-2'};if(e.match(/_+[a-zA-Z\$][a-zA-Z0-9\$]*/,!0,!1)){return'variable-2'};if(e.match(/\\\[[a-zA-Z\$][a-zA-Z0-9\$]*\]/,!0,!1)){return'variable-3'};if(e.match(/(?:\[|\]|{|}|\(|\))/,!0,!1)){return'bracket'};if(e.match(/(?:#[a-zA-Z\$][a-zA-Z0-9\$]*|#+[0-9]?)/,!0,!1)){return'variable-2'};if(e.match(u,!0,!1)){return'keyword'};if(e.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,!0,!1)){return'operator'};e.next();return'error'};function z(e,t){var a,i=!1,n=!1;while((a=e.next())!=null){if(a==='"'&&!n){i=!0;break};n=!n&&a==='\\'};if(i&&!n){t.tokenize=r};return'string'};function l(t,e){var a,n;while(e.commentLevel>0&&(n=t.next())!=null){if(a==='('&&n==='*')e.commentLevel++;if(a==='*'&&n===')')e.commentLevel--;a=n};if(e.commentLevel<=0){e.tokenize=r};return'comment'};return{startState:function(){return{tokenize:r,commentLevel:0}},token:function(e,t){if(e.eatSpace())return null;return t.tokenize(e,t)},blockCommentStart:'(*',blockCommentEnd:'*)'}});e.defineMIME('text/x-mathematica',{name:'mathematica'})});