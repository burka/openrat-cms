(function(e){if(typeof exports=='object'&&typeof module=='object')e(require('../../lib/codemirror'),require('../markdown/markdown'),require('../../addon/mode/overlay'));else if(typeof define=='function'&&define.amd)define(['../../lib/codemirror','../markdown/markdown','../../addon/mode/overlay'],e);else e(CodeMirror)})(function(e){'use strict';var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode('gfm',function(a,n){var r=0;function c(e){e.code=!1;return null};var s={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,a){a.combineTokens=null;if(a.codeBlock){if(e.match(/^```+/)){a.codeBlock=!1;return null};e.skipToEnd();return null};if(e.sol()){a.code=!1};if(e.sol()&&e.match(/^```+/)){e.skipToEnd();a.codeBlock=!0;return null};if(e.peek()==='`'){e.next();var i=e.pos;e.eatWhile('`');var o=1+e.pos-i;if(!a.code){r=o;a.code=!0}
else{if(o===r){a.code=!1}};return null}
else if(a.code){e.next();return null};if(e.eatSpace()){a.ateSpace=!0;return null};if(e.sol()||a.ateSpace){a.ateSpace=!1;if(n.gitHubSpice!==!1){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)){a.combineTokens=!0;return'link'}
else if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)){a.combineTokens=!0;return'link'}}};if(e.match(t)&&e.string.slice(e.start-2,e.start)!=']('&&(e.start==0||/\W/.test(e.string.charAt(e.start-1)))){a.combineTokens=!0;return'link'};e.next();return null},blankLine:c};var o={taskLists:!0,strikethrough:!0,emoji:!0};for(var i in n){o[i]=n[i]};o.name='markdown';return e.overlayMode(e.getMode(a,o),s)},'markdown');e.defineMIME('text/x-gfm','gfm')});