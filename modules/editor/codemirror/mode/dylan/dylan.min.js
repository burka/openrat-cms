(function(e){if(typeof exports=='object'&&typeof module=='object')e(require('../../lib/codemirror'));else if(typeof define=='function'&&define.amd)define(['../../lib/codemirror'],e);else e(CodeMirror)})(function(e){'use strict';function n(e,n){for(var t=0;t<e.length;t++)n(e[t],t)};function t(e,n){for(var t=0;t<e.length;t++)if(n(e[t],t))return!0;return!1};e.defineMode('dylan',function(i){var e={unnamedDefinition:['interface'],namedDefinition:['module','library','macro','C-struct','C-union','C-function','C-callable-wrapper'],typeParameterizedDefinition:['class','C-subtype','C-mapped-subtype'],otherParameterizedDefinition:['method','function','C-variable','C-address'],constantSimpleDefinition:['constant'],variableSimpleDefinition:['variable'],otherSimpleDefinition:['generic','domain','C-pointer-type','table'],statement:['if','block','begin','method','case','for','select','when','unless','until','while','iterate','profiling','dynamic-bind'],separator:['finally','exception','cleanup','else','elseif','afterwards'],other:['above','below','by','from','handler','in','instance','let','local','otherwise','slot','subclass','then','to','keyed-by','virtual'],signalingCalls:['signal','error','cerror','break','check-type','abort']};e['otherDefinition']=e['unnamedDefinition'].concat(e['namedDefinition']).concat(e['otherParameterizedDefinition']);e['definition']=e['typeParameterizedDefinition'].concat(e['otherDefinition']);e['parameterizedDefinition']=e['typeParameterizedDefinition'].concat(e['otherParameterizedDefinition']);e['simpleDefinition']=e['constantSimpleDefinition'].concat(e['variableSimpleDefinition']).concat(e['otherSimpleDefinition']);e['keyword']=e['statement'].concat(e['separator']).concat(e['other']);var a='[-_a-zA-Z?!*@<>$%]+',p=new RegExp('^'+a),r={symbolKeyword:a+':',symbolClass:'<'+a+'>',symbolGlobal:'\\*'+a+'\\*',symbolConstant:'\\$'+a};var d={symbolKeyword:'atom',symbolClass:'tag',symbolGlobal:'variable-2',symbolConstant:'variable-3'};for(var l in r)if(r.hasOwnProperty(l))r[l]=new RegExp('^'+r[l]);r['keyword']=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var o={};o['keyword']='keyword';o['definition']='def';o['simpleDefinition']='def';o['signalingCalls']='builtin';var c={};var u={};n(['keyword','definition','simpleDefinition','signalingCalls'],function(t){n(e[t],function(e){c[e]=t;u[e]=o[t]})});function f(e,n,t){n.tokenize=t;return t(e,n)};function s(e,i){var n=e.peek();if(n=='\''||n=='"'){e.next();return f(e,i,m(n,'string'))}
else if(n=='/'){e.next();if(e.eat('*')){return f(e,i,b)}
else if(e.eat('/')){e.skipToEnd();return'comment'};e.backUp(1)}
else if(/[+\-\d\.]/.test(n)){if(e.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||e.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||e.match(/^[+-]?\d+/)){return'number'}}
else if(n=='#'){e.next();n=e.peek();if(n=='"'){e.next();return f(e,i,m('"','string'))}
else if(n=='b'){e.next();e.eatWhile(/[01]/);return'number'}
else if(n=='x'){e.next();e.eatWhile(/[\da-f]/i);return'number'}
else if(n=='o'){e.next();e.eatWhile(/[0-7]/);return'number'}
else if(n=='#'){e.next();return'punctuation'}
else if((n=='[')||(n=='(')){e.next();return'bracket'}
else if(e.match(/f|t|all-keys|include|key|next|rest/i)){return'atom'}
else{e.eatWhile(/[-a-zA-Z]/);return'error'}}
else if(n=='~'){e.next();n=e.peek();if(n=='='){e.next();n=e.peek();if(n=='='){e.next();return'operator'};return'operator'};return'operator'}
else if(n==':'){e.next();n=e.peek();if(n=='='){e.next();return'operator'}
else if(n==':'){e.next();return'punctuation'}}
else if('[](){}'.indexOf(n)!=-1){e.next();return'bracket'}
else if('.,'.indexOf(n)!=-1){e.next();return'punctuation'}
else if(e.match('end')){return'keyword'};for(var a in r){if(r.hasOwnProperty(a)){var o=r[a];if((o instanceof Array&&t(o,function(n){return e.match(n)}))||e.match(o))return d[a]}};if(/[+\-*\/^=<>&|]/.test(n)){e.next();return'operator'};if(e.match('define')){return'def'}
else{e.eatWhile(/[\w\-]/);if(c.hasOwnProperty(e.current())){return u[e.current()]}
else if(e.current().match(p)){return'variable'}
else{e.next();return'variable-2'}}};function b(e,n){var r=!1,o=!1,i=0,t;while((t=e.next())){if(t=='/'&&r){if(i>0){i--}
else{n.tokenize=s;break}}
else if(t=='*'&&o){i++};r=(t=='*');o=(t=='/')};return'comment'};function m(e,n){return function(t,i){var r=!1,o,a=!1;while((o=t.next())!=null){if(o==e&&!r){a=!0;break};r=!r&&o=='\\'};if(a||!r){i.tokenize=s};return n}};return{startState:function(){return{tokenize:s,currentIndent:0}},token:function(e,n){if(e.eatSpace())return null;var t=n.tokenize(e,n);return t},blockCommentStart:'/*',blockCommentEnd:'*/'}});e.defineMIME('text/x-dylan','dylan')});